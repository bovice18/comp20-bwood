<!DOCTYPE html>

<html>

<head>
<title>Fecesbook</title>
	<script>
	var day, month, year, hour, minute;
		function init()
		{
			messages = document.getElementById("status");
			for( key in localStorage)
			{
				var update = document.createElement("div");
				var text = document.createTextNode(localStorage[key]);
				update.appendChild(text);
				messages.insertBefore(update, messages.childNodes[0]);
			}
		}
		function getText()
		{
			var currentDate = new Date();
			day = currentDate.getDate();
			month = currentDate.getMonth() + 1;
			year = currentDate.getFullYear();
			
			hour = currentDate.getHours();
			minute = currentDate.getMinutes();
			if(minute < 10)
			{
				minute = "0" + minute;
			}
					
		 	var input = document.getElementById("msg").value;
		 	var newText = document.createTextNode(input);
		 	var newLine = document.createElement("br");		 	 
		 	var newDate = document.createTextNode(month + "/" + day + "/" + year + " ");
		 	var newTime = document.createTextNode(hour + ":" + minute + " - ");
			
			messages = document.getElementById("status");
		 	var newUpdate = document.createElement("div");
		 	newUpdate.appendChild(newDate);
		 	newUpdate.appendChild(newTime);		    
		 	newUpdate.appendChild(newText); 
		 	newUpdate.appendChild(newLine);
		 	
		 	messages.insertBefore(newUpdate, messages.childNodes[0]);
			store(input);
		 	
		}
		function store(input)
		{
			localStorage[new Date().getTime()] = month + "/" + day + "/" + year + " " + hour + ":" + minute + " - " + input;
		}
		
	</script>
</head>

<body onload="init()">
	<h1>Fecebook</h1>
	<div id="nav">
		<ul>
			<li id="home">Home</li>
			<li id="groups">Groups</li>
			<li id="profile">Profile</li>
			<li id="contacts">Contacts</li>
			<li id="inbox">Inbox</li>
			<li id="applications">Applications</li>
		</ul>
	</div>
	<h2 id="fullname">Barney Gumble</h2>
	<p><img src="https://s3.amazonaws.com/tufts-cs-mchow-images/barneymug.gif" alt="profile" /></p>
	<h3>What are you thinking about? <input type="text" id="msg" name="msg" size="30" onchange="getText()" /></h3>
	
	<h3>Updates</h3>
	<div id="status">

	</div>
	
	<div id="yesterday">
		<h3>Updates from yesterday:</h3>
		<ul>
			<li>Alice is now connected to Bob</li>
			<li>Tom recommends Jerry</li>
			<li>Harry just returned from a trip from Curaco</li>
		</ul>
	</div>
	<div id="longlongtimeago">
		<h3>Updates from long long time ago:</h3>
		<ul>
			<li>Harry just returned from a trip from Curaco</li>
			<li>Joan is now connected to Mary</li>
			<li>Steven is now connected to James</li>
		</ul>
	</div>
</body>
</html>